<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>memorygame</title>
    <style>
        body {
            text-align: center;
            font-family: 'Roboto', sans-serif;
        }
        div#gamefield {
            margin: auto;
            width: 900px;
            height: 450px;
            border: solid black 2px;
        }
        div.tile {
            width: 150px;
            height: 150px;
            border-right: solid black 1px;
            border-bottom: solid black 1px;
            float: left;
            box-sizing: border-box;
            background-color: gray;
            background-position: center;
            background-size: contain;
            cursor: pointer;
        }
        div.tile:hover {
            background-color: darkgray;
        }
        div.tile:nth-child(6n+0) {
            border-right: none;
        }
        div.tile:nth-child(n+13) {
            border-bottom: none;
        }
        div#reset {
            background-color: gray;
            width: 150px;
            height: 30px;
            margin: auto;
            cursor: pointer;
        }

        div#reset:hover {
            background-color: darkgray;
        }

    </style>
</head>


<body>
<h1>memory game</h1> <img src="./work.gif" alt="WIP">
<div id="gamefield">

</div>
<div id="reset">
    <h2>reset</h2>
</div>

<script>
    /*
    stop plaatjes op willekeurige plek (nog onzichtbaar)
    bij click, geef background.
    click andere tile. zelfde? laat allebei staan. niet zelfde? verberg allebei (class?)
    reset knop. verwijder alle achtergronden, shuffle locaties

    array van 18, bevat alle plaatjes 2x. zelfde plaatjes hebben eigen class.

    1.click tile. -> show bg, x=0 x++.
    2.click tile. -> show bg, x++.
    3. x>= 2? -> same picture? x=0, show bg
        different picture? hide bgs, show new bg
    */


    gamefield = document.getElementById("gamefield");
    var randomNumbers = [], orderedPics = [], shuffledPics = [];
    var tiles = document.getElementsByClassName("tile");
    let BgCounter = 0;
    reset = document.getElementById("reset");

    createTiles();

//randomNumbers array
    while (randomNumbers.length < 18) {
        random = Math.floor(Math.random() * 18);
        if (randomNumbers.lastIndexOf(random) === -1) {
            randomNumbers.push(random);
        }
    }
    console.log(randomNumbers);

/*
//orderedPics
    for (let i = 0, j = 0; i < 18; i++ ,j+=0.5) {
        orderedPics[i] = Math.floor(j);
    }
    console.log(orderedPics)
*/

//shuffledPics
    for (let i = 0, j = 0; i < 18; i++, j+=0.5) {
            shuffledPics[randomNumbers[i]] = Math.floor(j);
    }

    console.log(shuffledPics);

    function createTiles() {
        for (let i = 0; i < 18; i++) {
            tile = document.createElement("div");
            tile.className = "tile";
            tile.id = "" + i;
            gamefield.appendChild(tile);

            tile.addEventListener("click", function() {
                showBG(this.id);
                checkSame(this.id);
            });
        }
    }

    function showBG(tileId) {
        clicked = document.getElementById("" + tileId);
        clicked.style.backgroundImage = "url('../img/cat" + shuffledPics[tileId] + ".jpg')";
    }

    function checkSame() {
        console.log("test test");
    }

//hide all BGs
    reset.addEventListener("click", function() {
        for (let i = 0; i < 18; i++) {
            tiles[i].style.backgroundImage = "none";
        }
    })
</script>
</body>
</html>